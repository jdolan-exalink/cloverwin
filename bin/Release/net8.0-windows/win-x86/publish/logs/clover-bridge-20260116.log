2026-01-16 13:18:04 [INF] CloverBridge starting...
2026-01-16 13:18:04 [INF] Starting in tray mode
2026-01-16 13:18:04 [INF] Creating default configuration
2026-01-16 13:18:04 [INF] Configuration saved to D:\DEVs\Cloverwin\bin\Release\net8.0-windows\win-x86\publish\config.json
2026-01-16 13:18:04 [INF] Folders created/verified
2026-01-16 13:18:04 [INF] CloverWebSocketService starting
2026-01-16 13:18:04 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:04 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:04 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:04 [INF] TransactionQueueService started
2026-01-16 13:18:04 [INF] InboxWatcher started, monitoring: D:\DEVs\Cloverwin\bin\Release\net8.0-windows\win-x86\publish\INBOX
2026-01-16 13:18:04 [INF] Found 0 existing files in inbox
2026-01-16 13:18:04 [INF] API Server started on http://127.0.0.1:3777/
2026-01-16 13:18:04 [INF] Application started. Press Ctrl+C to shut down.
2026-01-16 13:18:04 [INF] Hosting environment: Production
2026-01-16 13:18:04 [INF] Content root path: D:\DEVs\Cloverwin
2026-01-16 13:18:04 [INF] TrayApplicationContext initialized
2026-01-16 13:18:05 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:05 [INF] Connection state changed to "Error"
2026-01-16 13:18:05 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:05 [INF] Reconnect attempt 1/10
2026-01-16 13:18:10 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:10 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:10 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:11 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:11 [INF] Connection state changed to "Error"
2026-01-16 13:18:11 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:11 [INF] Reconnect attempt 2/10
2026-01-16 13:18:16 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:16 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:16 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:17 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:17 [INF] Connection state changed to "Error"
2026-01-16 13:18:17 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:17 [INF] Reconnect attempt 3/10
2026-01-16 13:18:22 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:22 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:22 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:23 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:23 [INF] Connection state changed to "Error"
2026-01-16 13:18:23 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:23 [INF] Reconnect attempt 4/10
2026-01-16 13:18:28 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:28 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:28 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:30 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:30 [INF] Connection state changed to "Error"
2026-01-16 13:18:30 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:30 [INF] Reconnect attempt 5/10
2026-01-16 13:18:35 [INF] Connecting to Clover at ws://10.1.1.53:12345/remote_pay
2026-01-16 13:18:35 [INF] Connection state changed to "Connecting"
2026-01-16 13:18:35 [INF] Tray tooltip updated: CloverBridge - Conectando...
2026-01-16 13:18:35 [ERR] Error in WebSocket connection
System.Net.WebSockets.WebSocketException (0x80004005): Unable to connect to the remote server
 ---> System.Net.Http.HttpRequestException: An error occurred while sending the request.
 ---> System.Net.Http.HttpIOException: The response ended prematurely. (ResponseEnded)
   at System.Net.Http.HttpConnection.FillAsync(Boolean async)
   at System.Net.Http.HttpConnection.<FillForHeadersAsync>g__ReadUntilEndOfHeaderAsync|84_0(Boolean async)
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Net.Http.HttpConnection.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.Http.HttpConnectionPool.SendWithVersionDetectionAndRetryAsync(HttpRequestMessage request, Boolean async, Boolean doRequestAuth, CancellationToken cancellationToken)
   at System.Net.Http.RedirectHandler.SendAsync(HttpRequestMessage request, Boolean async, CancellationToken cancellationToken)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.WebSocketHandle.ConnectAsync(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken, ClientWebSocketOptions options)
   at System.Net.WebSockets.ClientWebSocket.ConnectAsyncCore(Uri uri, HttpMessageInvoker invoker, CancellationToken cancellationToken)
   at CloverBridge.Services.CloverWebSocketService.ConnectAsync(CancellationToken cancellationToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 111
   at CloverBridge.Services.CloverWebSocketService.ExecuteAsync(CancellationToken stoppingToken) in D:\DEVs\Cloverwin\Services\CloverWebSocketService.cs:line 54
2026-01-16 13:18:35 [INF] Connection state changed to "Error"
2026-01-16 13:18:35 [INF] Tray tooltip updated: CloverBridge - Error
2026-01-16 13:18:35 [INF] Reconnect attempt 6/10
